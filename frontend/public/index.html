<!DOCTYPE html>
<html>

<head>
    <title>Express to Flask Form</title>
</head>

<body>
    <h1>Submit Form to Flask + MongoDB</h1>
    <form id="form">
        <label>Name:</label>
        <input type="text" id="name" required><br>


        <label>Email:</label>
        <input type="email" id="email" required><br>


        <label>Message:</label>
        <textarea id="message" required></textarea><br>


        <button type="submit">Submit</button>
    </form>


    <pre id="response"></pre>


    <script>
        const backendURL = "http://YOUR_PUBLIC_IP:5000/submit";

        document.getElementById('form').addEventListener('submit', async (e) => {
            e.preventDefault();

            const data = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                message: document.getElementById('message').value
            };

            try {
                const res = await fetch(backendURL, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data)
                });

                const json = await res.json();
                document.getElementById('response').textContent = JSON.stringify(json, null, 2);

            } catch (err) {
                document.getElementById('response').textContent = err.message;
            }
        });
    </script>

</html>